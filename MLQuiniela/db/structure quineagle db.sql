BEGIN TRANSACTION;
CREATE TABLE "t_team" (
	`id_team`	INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
	`name`	TEXT NOT NULL
);
INSERT INTO `t_team` (id_team,name) VALUES (1,'ALAVES'),
 (2,'ALCORCON'),
 (3,'ALMERIA'),
 (4,'AT.MADRID'),
 (5,'ATHLETIC'),
 (6,'BARCELONA'),
 (7,'BETIS'),
 (8,'CADIZ'),
 (9,'CELTA'),
 (10,'CORDOBA'),
 (11,'DEPORTIVO'),
 (12,'EIBAR'),
 (13,'ELCHE'),
 (14,'ESPANYOL'),
 (15,'GETAFE'),
 (16,'GIJON'),
 (17,'GIMNASTIC'),
 (18,'GIRONA'),
 (19,'GRANADA'),
 (20,'HUESCA'),
 (21,'LAS PALMAS'),
 (22,'LEGANES'),
 (23,'LEVANTE'),
 (24,'LUGO'),
 (25,'MALAGA'),
 (26,'MALLORCA'),
 (27,'MIRANDES'),
 (28,'MURCIA'),
 (29,'NUMANCIA'),
 (30,'OSASUNA'),
 (31,'OVIEDO'),
 (32,'R.MADRID'),
 (33,'R.SOCIEDAD'),
 (34,'RAYO'),
 (35,'REUS'),
 (36,'SEVILLA'),
 (37,'SEVILLA B'),
 (38,'TENERIFE'),
 (39,'VALENCIA'),
 (40,'VALLADOLID'),
 (41,'VILLAREAL'),
 (42,'ZARAGOZA');
CREATE TABLE "t_match" (
	`id_match`	INTEGER NOT NULL,
	`id_homeTeam`	INTEGER NOT NULL,
	`id_awayTeam`	INTEGER NOT NULL,
	`result`	TEXT NOT NULL,
	`id_journey`	INTEGER,
	PRIMARY KEY(`id_homeTeam`,`id_awayTeam`,`id_journey`),
	FOREIGN KEY(`id_homeTeam`) REFERENCES `t_team`(`id_team`),
	FOREIGN KEY(`id_awayTeam`) REFERENCES `t_team`(`id_team`),
	FOREIGN KEY(`id_journey`) REFERENCES `t_journey`(`id_journey`)
);
INSERT INTO `t_match` (id_match,id_homeTeam,id_awayTeam,result,id_journey) VALUES (1,1,6,'2',1),
 (2,5,11,'1',1),
 (3,30,32,'2',1),
 (4,41,25,'X',1),
 (5,22,16,'2',1),
 (6,21,36,'2',1),
 (7,4,9,'1',1),
 (8,42,23,'2',1),
 (9,15,8,'1',1),
 (10,10,20,'2',1),
 (11,40,38,'X',1),
 (12,13,28,'X',1),
 (13,27,31,'2',1),
 (14,26,34,'1',1),
 (15,12,19,'1',1),
 (16,32,14,'1',2),
 (17,11,1,'2',2),
 (18,36,12,'1',2),
 (19,33,41,'2',2),
 (20,39,5,'1',2),
 (21,9,30,'1',2),
 (22,6,22,'1',2),
 (23,28,40,'2',2),
 (24,17,29,'1',2),
 (25,23,10,'1',2),
 (26,38,3,'1',2),
 (27,18,26,'1',2),
 (28,8,35,'X',2),
 (29,31,15,'1',2),
 (30,25,21,'1',2),
 (31,7,36,'2',3),
 (32,22,11,'1',3),
 (33,12,25,'1',3),
 (34,14,30,'1',3),
 (35,16,9,'X',3),
 (36,5,19,'1',3),
 (37,41,32,'2',3),
 (38,13,20,'X',3),
 (39,26,38,'2',3),
 (40,27,18,'2',3),
 (41,15,34,'1',3),
 (42,29,8,'2',3),
 (43,40,24,'X',3),
 (44,42,17,'2',3),
 (45,4,6,'2',3),
 (46,33,12,'X',4),
 (47,25,7,'2',4),
 (48,39,22,'1',4),
 (49,6,16,'1',4),
 (50,30,41,'2',4),
 (51,9,14,'X',4),
 (52,19,1,'1',4),
 (53,32,21,'X',4),
 (54,36,5,'1',4),
 (55,12,32,'2',5),
 (56,41,14,'1',5),
 (57,6,9,'1',5),
 (58,16,11,'2',5),
 (59,4,39,'1',5),
 (60,21,30,'1',5),
 (61,5,25,'1',5),
 (62,18,15,'1',5),
 (63,34,35,'X',5),
 (64,31,8,'1',5),
 (65,28,26,'X',5),
 (66,20,40,'1',5),
 (67,17,10,'1',5),
 (68,42,29,'1',5),
 (69,1,36,'X',5),
 (70,36,22,'X',6),
 (71,25,1,'2',6),
 (72,19,4,'2',6),
 (73,33,5,'2',6),
 (74,11,6,'1',6),
 (75,9,41,'2',6),
 (76,32,7,'1',6),
 (77,26,24,'X',6),
 (78,40,23,'2',6),
 (79,29,31,'X',6),
 (80,10,42,'1',6),
 (81,3,20,'X',6),
 (82,35,18,'2',6),
 (83,8,34,'1',6);
CREATE TABLE "t_journey" (
	`id_journey`	INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
	`number_journey`	INTEGER,
	`first_div`	INTEGER,
	`second_div`	INTEGER
);
INSERT INTO `t_journey` (id_journey,number_journey,first_div,second_div) VALUES (1,1,1,1),
 (2,2,2,2),
 (3,3,NULL,3),
 (4,4,3,4),
 (5,6,4,5),
 (6,7,5,6),
 (7,8,6,7),
 (8,10,7,8),
 (9,12,NULL,9),
 (10,13,8,10),
 (11,15,9,11),
 (12,16,10,12),
 (13,18,11,13),
 (14,19,NULL,14),
 (15,20,12,15),
 (16,22,13,16),
 (17,24,14,17),
 (18,26,15,18),
 (19,27,16,19),
 (20,31,17,20),
 (21,32,18,21),
 (22,33,19,22),
 (23,34,20,23),
 (24,35,21,24),
 (25,36,22,25),
 (26,38,23,26),
 (27,40,24,27),
 (28,41,25,NULL),
 (29,42,26,28),
 (30,43,27,29),
 (31,44,28,30),
 (32,45,NULL,31),
 (33,46,29,32),
 (34,47,30,NULL),
 (35,48,31,33),
 (36,49,32,34),
 (37,50,33,35),
 (38,41,34,NULL),
 (39,42,35,36),
 (40,43,36,37),
 (41,44,37,38),
 (42,45,38,39),
 (43,46,NULL,40),
 (44,47,NULL,41),
 (45,48,NULL,42);
CREATE VIEW v_resume as
Select m.id_match, t1.name, t2.name, m.result, j.number
from t_match m, t_team t1, t_team t2, t_journey j
where t1.id_team  = m.id_homeTeam 
and t2.id_team= m.id_awayTeam
and j.id_journey = m.id_journey;
COMMIT;
